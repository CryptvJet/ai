<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Chat Interface</title>
    <link rel="stylesheet" href="css/chat.css">
</head>
<body>
    <div class="app-layout">
        <!-- Left Sidebar (1/6 width) -->
        <div class="left-sidebar">
            <!-- Future left sidebar content -->
        </div>

        <!-- Main Chat Area (2/3 width) -->
        <div class="chat-main">
            <header class="chat-header">
                <div class="header-left">
                    <div class="ai-avatar">ü§ñ</div>
                    <h1 id="aiName">AI Assistant</h1>
                    <span id="aiMode" class="mode-indicator chill">Chill Mode</span>
                    <span id="pulseStatus" class="connection-status">PulseCore: <span class="status-dot"></span></span>
                    <span id="pcStatus" class="connection-status">PC AI: <span class="status-dot"></span></span>
                </div>
                <div class="controls">
                    <button id="adminBtn" class="btn-admin" onclick="openAdmin()">‚öôÔ∏è My Admin</button>
                    <button id="clearBtn" class="btn-clear" onclick="clearChat()">üóëÔ∏è Clear</button>
                </div>
            </header>

            <div class="chat-container" id="chatContainer">
                <div class="message ai-message" id="welcomeMessage">
                    <div class="message-content">
                        <strong id="aiNameLabel">AI:</strong> <span id="welcomeText">Hi! I'm your AI Assistant. I hope you are doing well today! What should I call you?</span>
                    </div>
                    <div class="message-time"></div>
                </div>
            </div>

            <div class="input-section">
                <div class="input-container">
                    <input 
                        type="text" 
                        id="messageInput" 
                        placeholder="Type your message or press the microphone to speak..."
                        autocomplete="off"
                    />
                    <button id="voiceBtn" class="btn-voice" onclick="toggleVoice()" title="Voice input">
                        üé§
                    </button>
                    <button id="sendBtn" class="btn-send" onclick="sendMessage()" title="Send message">
                        ‚û§
                    </button>
                </div>

                <div class="quick-actions">
                    <button class="quick-btn" onclick="quickMessage('What are my recent novas?')">Recent Novas</button>
                    <button class="quick-btn" onclick="quickMessage('Analyze my patterns')">Pattern Analysis</button>
                    <button class="quick-btn" onclick="quickMessage('Help me optimize')">Optimization Tips</button>
                    <button class="quick-btn" onclick="quickMessage('Show variables data')">Variables Data</button>
                </div>

            </div>
        </div>

        <!-- Right Stats Sidebar (1/6 width) -->
        <div class="right-sidebar">
            <div class="stats-toggle-section">
                <button id="statsToggle" class="stats-toggle" onclick="toggleStats()">
                    üìä PulseCore Stats
                    <span class="toggle-arrow" id="statsArrow">‚ñ≤</span>
                </button>
            </div>

            <div class="stats-card collapsed" id="statsPanel">
                <div class="stat-item">
                    <span class="stat-label">Total Climaxes:</span>
                    <span class="stat-value" id="totalClimaxes">-</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Total Novas:</span>
                    <span class="stat-value" id="totalNovas">-</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Average Complexity:</span>
                    <span class="stat-value" id="avgComplexity">-</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Total Sessions:</span>
                    <span class="stat-value" id="totalSessions">-</span>
                </div>
            </div>

            <div class="voice-toggle-section">
                <button id="voiceControlsToggle" class="voice-controls-toggle" onclick="toggleVoiceControls()">
                    üéõÔ∏è Voice Settings
                    <span class="toggle-arrow" id="toggleArrow">‚ñº</span>
                </button>
            </div>

            <div class="voice-controls collapsed" id="voiceControlsPanel">
                <div class="voice-settings">
                    <div class="voice-row">
                        <select id="voiceSelect" class="voice-dropdown">
                            <option value="">Loading voices...</option>
                        </select>
                        <div class="voice-speed">
                            <label for="speechRate">Speed:</label>
                            <input type="range" id="speechRate" min="0.5" max="2.5" step="0.1" value="1.2" class="speed-slider">
                            <span id="speedValue">1.2x</span>
                        </div>
                    </div>
                    
                    <div class="voice-row">
                        <div class="voice-pitch">
                            <label for="speechPitch">Pitch:</label>
                            <input type="range" id="speechPitch" min="0.5" max="2.0" step="0.1" value="1.0" class="pitch-slider">
                            <span id="pitchValue">1.0</span>
                        </div>
                        <div class="voice-volume">
                            <label for="speechVolume">Volume:</label>
                            <input type="range" id="speechVolume" min="0.1" max="1.0" step="0.1" value="0.8" class="volume-slider">
                            <span id="volumeValue">0.8</span>
                        </div>
                    </div>

                    <div class="voice-row">
                        <label class="voice-toggle">
                            <input type="checkbox" id="autoSpeak" checked>
                            <span class="toggle-slider-mini"></span>
                            Auto-speak
                        </label>
                        
                        <div class="voice-timeout">
                            <label for="voiceTimeout">Listen Duration:</label>
                            <select id="voiceTimeout" class="timeout-dropdown">
                                <option value="normal">Normal</option>
                                <option value="30">30 seconds</option>
                                <option value="60">60 seconds</option>
                                <option value="continuous">Continuous</option>
                            </select>
                        </div>
                    </div>

                    <div class="voice-test">
                        <button id="testVoiceBtn" class="btn-test-voice">üéµ Test Voice</button>
                        <button id="voiceSettingsBtn" class="btn-voice-settings">‚öôÔ∏è Advanced</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="voiceIndicator" class="voice-indicator hidden">
        <button class="voice-close-btn" onclick="closeVoiceIndicator()">‚úï</button>
        <div class="voice-animation"></div>
        <p>Listening... Speak now</p>
        <div class="voice-status" id="voiceStatus">Ready to listen...</div>
    </div>

    <script src="js/chat.js"></script>
</body>
</html>